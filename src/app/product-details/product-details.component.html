

<div class="container py-5">

    @if(responseLoaded){
        <div class="row">

            <div class="col-6">

                <div class="bg-body-secondary mb-3 d-flex justify-content-center">
                    <img src={{currentProduct.images[0]}} class="cardImage" alt="">
                </div>
            
                <div class="d-flex justify-content-center column-gap-3" >

                    @for(image of currentProduct.images; track $index){

                        @if($index>0){

                            <div class="bg-body-secondary d-flex justify-content-center align-items-center">
                                <img src={{image}} class="cardImage w-75 h-75" alt="image">
                            </div>
                        }

                    }

                </div>

                <!-- <div class="container overflow-hidden">
                    <div class="row gx-1">
                        @for(image of currentProduct.images; track $index){

                            @if($index>0){
        
                                <div class="bg-body-secondary col d-flex justify-content-center align-items-center">
                                    <img src={{image}} class="cardImage w-75 h-75" alt="image">
                                </div>
                            }
        
                        }
                    </div>
                </div> -->

            </div>

            <div class="col-6">

                <h2>{{currentProduct.title}}</h2>
                <p>{{currentProduct.description}}</p>

                <app-star-rating [rating]="currentProduct.rating"></app-star-rating>

                <h4 class="mt-4">{{currentProduct| discount |currency:"EGP":"symbol":"1.2-2"}} or {{ currentProduct | discount : 6 | number: '1.2-2' }}/month</h4>
                @if(currentProduct.discountPercentage!=0){
                    <span class="d-block fs-5 text-decoration-line-through">{{currentProduct.price|currency:"EGP"}}</span>            
                }

                @if(currentProduct.stock>0){
                    <span class="badge text-bg-success rounded-4 mt-4 py-2 px-3">In stock</span>
                }
                @else{
                    <span class="badge text-bg-danger rounded-4 mt-4 py-2 px-3">Out of stock</span>
                }

                <span class="d-block mt-4">More Information</span>

                <div class="d-flex column-gap-3 mb-4 mt-2">
                    <button class="btn px-4 rounded-5 bg-body-secondary">Category</button>
                    <button class="btn px-4 rounded-5 bg-body-secondary">Brand</button>
                </div>

                <div class="d-flex my-5">

                    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                        <button type="button" class="btn fs-5 bg-body-secondary rounded-start-pill" (click)="decreaseQuantity()">-</button>
                        <button type="button" class="btn fs-5 bg-body-secondary">{{currentProductCounter}}</button>
                        <button type="button" class="btn fs-5 bg-body-secondary rounded-end-circle" (click)="increaseQuantity()">+</button>
                    </div>

                    <div class="ms-4">
                        only {{currentProduct.stock}} <span class="text-warning">Items</span> Left!
                        <br>Don't miss it
                    </div>

                </div>


            <div class="d-flex column-gap-3">
                    <button class="btn btn-outline-dark fs-4 rounded-5 px-5">Buy Now</button>
                    <a class="btn btn-outline-dark fs-4 rounded-5 px-5" (click)="addToCart()" routerLink="/cart"> Add to Cart</a>
                </div>

            </div>

        </div>
    }
    @else{
        <div class="d-flex justify-content-center mt-5">
            <div class="spinner-border text-primary m-5" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        <div class="fs-5 text-center">Loading...</div>
    }

</div>
